var fTemplate=new Hogan.Template();fTemplate.r =function(c,p,i){var _=this;_.b(i=i||"");_.b("<div class=\"user_info\">");_.b("\n" + i);_.b("    <form class=\"js_registerForm\">");_.b("\n" + i);_.b("        <div>注册</div>");_.b("\n" + i);_.b("        <div>用户名：<input type=\"text\" name=\"username\"/></div>");_.b("\n" + i);_.b("        <div>密码：<input type=\"password\" name=\"password\"/></div>");_.b("\n" + i);_.b("        <div>确认密码：<input type=\"password\" name=\"passwordConfirm\"/></div>");_.b("\n" + i);if(_.s(_.f("verifyUrl",c,p,1),c,p,0,298,554,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("            <div>验证码：<input type=\"text\" name=\"verifyCode\"/>");_.b("\n" + i);_.b("                <img class=\"js_verifyImg cp\" alt=\"点击换图\" title=\"点击换图\" src=\"");_.b(_.v(_.f("verifyUrl",c,p,0)));_.b("\">");_.b("\n" + i);_.b("            </div>");_.b("\n" + i);_.b("            <div>记住我：<input type=\"checkbox\" name=\"remember\" value=\"1\"/></div>");_.b("\n");});c.pop();}_.b("        <div><input type=\"submit\" name=\"submit\" value=\"提交\"/></div>");_.b("\n" + i);_.b("    </form>");_.b("\n" + i);_.b("</div>");return _.fl();;};function content_refresh(){var r=fTemplate.render(params);$(".maincontent").html(r),page_bind()}function page_bind(){$(".js_verifyImg").click(function(){return $.ajax({url:getUrl("Site","captcha",{refresh:1}),dataType:"json",cache:!1,success:function(r){return $(".js_verifyImg").attr("src",r.url),$("body").data("captcha.hash",[r.hash1,r.hash2]),!1}}),!1}),$(".js_registerForm").find('[name="submit"]').click(function(){return $(".js_registerForm").find(".merror").removeClass("merror"),oneAjax("Site","AjaxRegister",$(".js_registerForm").serialize(),function(r){return 1===r.code?State.forward("Main","Index"):2===r.code&&$.each(r.errors,function(r){return $(".js_registerForm").find("[name="+r+"]").addClass("merror")}),!1},this),!1})}